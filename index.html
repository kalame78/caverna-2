<script>
async function searchQuran() {
  const q = document.getElementById('query').value.trim();
  const resultsDiv = document.getElementById('results');
  resultsDiv.innerHTML = '<p>⏳ Recherche en cours...</p>';

  if (!q) {
    resultsDiv.innerHTML = '<p>❗️Entre un mot ou une référence (ex: 12:20)</p>';
    return;
  }

  try {
    // Si l'utilisateur entre une référence (ex: 2:255)
    if (q.includes(':')) {
      const [surah, ayah] = q.split(':');
      const response = await fetch(`https://api.alquran.cloud/v1/ayah/${surah}:${ayah}/editions/quran-simple,fr.hamidullah,ar.alafasy`);
      const data = await response.json();
      if (data.code !== 200) throw new Error('Aucun résultat');

      const [arabic, french, audio] = data.data;
      resultsDiv.innerHTML = `
        <div class="verse">
          <strong>Sourate ${surah}, Verset ${ayah}</strong>
          <div class="ar">${arabic.text}</div>
          <p>${french.text}</p>
          <audio controls src="${audio.audio}"></audio>
        </div>
      `;
    }

    // Sinon, si l'utilisateur tape un mot-clé (ex: sabr)
    else {
      const response = await fetch(`https://api.alquran.cloud/v1/search/${encodeURIComponent(q)}/all/fr.hamidullah`);
      const data = await response.json();
      if (data.code !== 200 || !data.data.matches.length) {
        resultsDiv.innerHTML = '<p>⚠️ Aucun verset trouvé pour ce mot-clé.</p>';
        return;
      }

      resultsDiv.innerHTML = '';
      data.data.matches.slice(0, 10).forEach(item => {
        const surah = item.surah.number;
        const ayah = item.numberInSurah;
        resultsDiv.innerHTML += `
          <div class="verse">
            <strong>Sourate ${surah}, Verset ${ayah}</strong>
